<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SophieSync AI - 智能学习助手</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'system-ui', '-apple-system', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', system-ui, -apple-system, sans-serif; }
        .gradient-text {
            background: linear-gradient(to right, #2563eb, #7c3aed);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .fade-in { animation: fadeIn 0.6s ease-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .testimonials-track {
            animation: scroll 40s linear infinite;
        }
        @keyframes scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
    </style>
</head>
<body class="bg-white">

<!-- Navbar -->
<nav class="fixed top-0 left-0 right-0 z-50 bg-white/80 backdrop-blur-md border-b border-gray-100">
    <div class="max-w-6xl mx-auto px-6 h-16 flex items-center justify-between">
        <div class="text-xl font-bold text-gray-900">SophieSync</div>
        <div class="flex items-center gap-4">
            <button onclick="openAuthModal('login')" class="text-sm font-medium text-gray-600 hover:text-gray-900 transition-colors">
                登录
            </button>
            <button onclick="openAuthModal('register')" class="px-4 py-2 text-sm font-medium text-white bg-black rounded-full hover:bg-gray-800 transition-colors">
                开始使用
            </button>
        </div>
    </div>
</nav>

<!-- Hero Section -->
<section class="relative flex flex-col items-center justify-start min-h-screen pt-32 pb-20 overflow-hidden bg-gradient-to-b from-white to-gray-50">
    <div class="z-10 flex flex-col items-center text-center max-w-4xl px-4 mb-16 fade-in">
        <h1 class="text-5xl md:text-7xl font-bold text-gray-900 tracking-tight mb-6">
            Your AI Tutor, <br>
            <span class="gradient-text">Tailored for You</span>
        </h1>
        <p class="text-xl text-gray-600 mb-8 max-w-2xl">
            将你的学习资料转化为互动笔记、测验和思维导图。<br>
            通过个性化 AI 指导，更快掌握任何学科。
        </p>
        <button onclick="startLearning()" class="px-8 py-4 text-lg font-semibold text-white bg-black rounded-full shadow-lg hover:shadow-xl hover:bg-gray-800 transition-all transform hover:scale-105">
            开始学习
        </button>
    </div>

    <!-- 3D Preview Card -->
    <div class="w-full max-w-5xl px-4 fade-in" style="animation-delay: 0.3s;">
        <div class="relative w-full aspect-[16/9] bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden">
            <div class="absolute inset-0 bg-gray-50 flex">
                <!-- Sidebar Preview -->
                <div class="w-64 border-r border-gray-200 bg-white p-4 hidden md:block">
                    <div class="h-8 w-32 bg-gray-200 rounded mb-6 animate-pulse"></div>
                    <div class="space-y-3">
                        <div class="h-4 w-full bg-gray-100 rounded"></div>
                        <div class="h-4 w-3/4 bg-gray-100 rounded"></div>
                        <div class="h-4 w-5/6 bg-gray-100 rounded"></div>
                    </div>
                </div>
                <!-- Main Content Preview -->
                <div class="flex-1 p-8">
                    <div class="h-12 w-1/2 bg-gray-200 rounded mb-8"></div>
                    <div class="grid grid-cols-2 gap-6">
                        <div class="h-40 bg-white border border-gray-200 rounded-lg shadow-sm p-4">
                            <div class="h-full w-full bg-blue-50/50 rounded flex items-center justify-center text-blue-300 font-medium">
                                互动笔记
                            </div>
                        </div>
                        <div class="h-40 bg-white border border-gray-200 rounded-lg shadow-sm p-4">
                            <div class="h-full w-full bg-violet-50/50 rounded flex items-center justify-center text-violet-300 font-medium">
                                知识图谱
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Decorative Glows -->
            <div class="absolute -top-20 -right-20 w-96 h-96 bg-blue-400/20 rounded-full blur-3xl pointer-events-none"></div>
            <div class="absolute -bottom-20 -left-20 w-96 h-96 bg-violet-400/20 rounded-full blur-3xl pointer-events-none"></div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-20 px-6 bg-white">
    <div class="max-w-6xl mx-auto space-y-32">
        <!-- Feature 1: OCR Recognition -->
        <div class="flex flex-col md:flex-row items-center gap-12 md:gap-24">
            <div class="flex-1 space-y-6">
                <h3 class="text-3xl md:text-4xl font-bold text-gray-900">AI 驱动的 OCR</h3>
                <p class="text-lg text-gray-600 leading-relaxed">
                    上传手写笔记、教科书或任何文档。我们先进的 OCR 技术会准确提取文字，包括公式和表格。
                </p>
                <a href="#" class="text-blue-600 font-semibold hover:text-blue-700 flex items-center gap-2 group">
                    了解更多 
                    <span class="group-hover:translate-x-1 transition-transform">→</span>
                </a>
            </div>
            <div class="flex-1 w-full">
                <div class="relative aspect-[4/3] bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl overflow-hidden shadow-lg border border-blue-200 flex items-center justify-center">
                    <div class="text-center p-8">
                        <div class="w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center mx-auto mb-4">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                            </svg>
                        </div>
                        <p class="text-blue-700 font-medium">拖拽或点击上传图片</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Feature 2: AI Chat -->
        <div class="flex flex-col md:flex-row-reverse items-center gap-12 md:gap-24">
            <div class="flex-1 space-y-6">
                <h3 class="text-3xl md:text-4xl font-bold text-gray-900">智能对话学习</h3>
                <p class="text-lg text-gray-600 leading-relaxed">
                    与 AI 导师自然对话。提问、获取解释、深入探讨任何话题。个性化指导触手可及。
                </p>
                <a href="#" class="text-blue-600 font-semibold hover:text-blue-700 flex items-center gap-2 group">
                    了解更多 
                    <span class="group-hover:translate-x-1 transition-transform">→</span>
                </a>
            </div>
            <div class="flex-1 w-full">
                <div class="relative aspect-[4/3] bg-gray-100 rounded-2xl overflow-hidden shadow-lg border border-gray-200 flex items-center justify-center">
                    <div class="w-3/4 h-3/4 bg-white rounded-xl shadow-sm p-6 relative">
                        <div class="absolute right-4 top-4 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 text-xs font-bold">
                            AI
                        </div>
                        <div class="space-y-4 mt-8">
                            <div class="bg-gray-100 p-3 rounded-lg rounded-tl-none text-sm text-gray-600 w-2/3">
                                请帮我分析这道数学题的解法？
                            </div>
                            <div class="bg-blue-50 p-3 rounded-lg rounded-tr-none text-sm text-gray-800 ml-auto w-3/4">
                                当然！这道题涉及到一次函数的应用...
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Feature 3: Notion Sync -->
        <div class="flex flex-col md:flex-row items-center gap-12 md:gap-24">
            <div class="flex-1 space-y-6">
                <h3 class="text-3xl md:text-4xl font-bold text-gray-900">Notion 同步</h3>
                <p class="text-lg text-gray-600 leading-relaxed">
                    所有学习笔记、分析结果自动同步到你的 Notion 工作区。知识管理从未如此简单。
                </p>
                <a href="#" class="text-blue-600 font-semibold hover:text-blue-700 flex items-center gap-2 group">
                    了解更多 
                    <span class="group-hover:translate-x-1 transition-transform">→</span>
                </a>
            </div>
            <div class="flex-1 w-full">
                <div class="relative aspect-[4/3] bg-gradient-to-br from-violet-50 to-violet-100 rounded-2xl overflow-hidden shadow-lg border border-violet-200 flex items-center justify-center">
                    <div class="relative w-32 h-32">
                        <!-- Center Node -->
                        <div class="absolute inset-0 m-auto w-16 h-16 bg-white border-2 border-violet-300 rounded-full flex items-center justify-center text-violet-600 shadow-md font-bold">
                            N
                        </div>
                        <!-- Connected Nodes -->
                        <div class="absolute -top-4 left-1/2 -translate-x-1/2 w-10 h-10 bg-white border-2 border-violet-200 rounded-full flex items-center justify-center text-xs text-gray-600 shadow-sm">A</div>
                        <div class="absolute -bottom-4 left-1/2 -translate-x-1/2 w-10 h-10 bg-white border-2 border-violet-200 rounded-full flex items-center justify-center text-xs text-gray-600 shadow-sm">B</div>
                        <div class="absolute top-1/2 -left-4 -translate-y-1/2 w-10 h-10 bg-white border-2 border-violet-200 rounded-full flex items-center justify-center text-xs text-gray-600 shadow-sm">C</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section class="py-20 bg-white overflow-hidden">
    <div class="mb-16 text-center px-6">
        <h2 class="text-3xl font-bold text-gray-900">深受学习者喜爱</h2>
    </div>
    
    <div class="relative w-full flex overflow-hidden">
        <!-- Gradient Masks -->
        <div class="absolute left-0 top-0 bottom-0 w-20 bg-gradient-to-r from-white to-transparent z-10 pointer-events-none"></div>
        <div class="absolute right-0 top-0 bottom-0 w-20 bg-gradient-to-l from-white to-transparent z-10 pointer-events-none"></div>

        <div class="testimonials-track flex gap-6 px-6">
            <!-- Testimonial Cards (duplicated for infinite scroll) -->
            <div class="flex-shrink-0 w-[350px] p-8 bg-white border border-gray-100 rounded-2xl shadow-sm hover:shadow-md transition-shadow">
                <p class="text-lg text-gray-800 font-medium mb-6 leading-relaxed">"我真希望我上学的时候就有这个工具！"</p>
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold">N</div>
                    <div>
                        <div class="font-bold text-gray-900">Nasim Uddin</div>
                        <div class="text-sm text-gray-500">独立开发者</div>
                    </div>
                </div>
            </div>
            <div class="flex-shrink-0 w-[350px] p-8 bg-white border border-gray-100 rounded-2xl shadow-sm hover:shadow-md transition-shadow">
                <p class="text-lg text-gray-800 font-medium mb-6 leading-relaxed">"Sophie 太棒了，我刚用它学习了一个生物技术圆桌讨论！"</p>
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold">R</div>
                    <div>
                        <div class="font-bold text-gray-900">Rohan Robinson</div>
                        <div class="text-sm text-gray-500">软件工程师</div>
                    </div>
                </div>
            </div>
            <div class="flex-shrink-0 w-[350px] p-8 bg-white border border-gray-100 rounded-2xl shadow-sm hover:shadow-md transition-shadow">
                <p class="text-lg text-gray-800 font-medium mb-6 leading-relaxed">"这个网站已经成为我们日常生活中不可或缺的一部分。"</p>
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold">J</div>
                    <div>
                        <div class="font-bold text-gray-900">Jason Patel</div>
                        <div class="text-sm text-gray-500">作家</div>
                    </div>
                </div>
            </div>
            <div class="flex-shrink-0 w-[350px] p-8 bg-white border border-gray-100 rounded-2xl shadow-sm hover:shadow-md transition-shadow">
                <p class="text-lg text-gray-800 font-medium mb-6 leading-relaxed">"错题分析功能为我的期末复习节省了大量时间！"</p>
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold">S</div>
                    <div>
                        <div class="font-bold text-gray-900">Sarah Chen</div>
                        <div class="text-sm text-gray-500">医学生</div>
                    </div>
                </div>
            </div>
            <!-- Duplicate for seamless loop -->
            <div class="flex-shrink-0 w-[350px] p-8 bg-white border border-gray-100 rounded-2xl shadow-sm hover:shadow-md transition-shadow">
                <p class="text-lg text-gray-800 font-medium mb-6 leading-relaxed">"我真希望我上学的时候就有这个工具！"</p>
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold">N</div>
                    <div>
                        <div class="font-bold text-gray-900">Nasim Uddin</div>
                        <div class="text-sm text-gray-500">独立开发者</div>
                    </div>
                </div>
            </div>
            <div class="flex-shrink-0 w-[350px] p-8 bg-white border border-gray-100 rounded-2xl shadow-sm hover:shadow-md transition-shadow">
                <p class="text-lg text-gray-800 font-medium mb-6 leading-relaxed">"Sophie 太棒了，我刚用它学习了一个生物技术圆桌讨论！"</p>
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 font-bold">R</div>
                    <div>
                        <div class="font-bold text-gray-900">Rohan Robinson</div>
                        <div class="text-sm text-gray-500">软件工程师</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-20 px-6 bg-white">
    <div class="max-w-6xl mx-auto bg-gray-50 rounded-[2.5rem] p-12 md:p-24 text-center">
        <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6 tracking-tight">
            学得更智能、更快、更轻松。
        </h2>
        <p class="text-xl text-gray-600 mb-10 max-w-2xl mx-auto">
            上传你的学习内容，开启学习之旅。
        </p>
        <button onclick="startLearning()" class="px-8 py-4 text-lg font-semibold text-white bg-black rounded-full shadow-lg hover:bg-gray-800 transition-colors transform hover:scale-105">
            开始使用
        </button>
    </div>
</section>

<!-- Footer -->
<footer class="bg-gray-50 border-t border-gray-200 py-12 px-6">
    <div class="max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6">
        <div class="text-gray-500 text-sm">© 2025 SophieSync Inc. All rights reserved.</div>
        <div class="flex gap-6">
            <a href="#" class="text-gray-500 hover:text-gray-900 text-sm">隐私政策</a>
            <a href="#" class="text-gray-500 hover:text-gray-900 text-sm">服务条款</a>
        </div>
    </div>
</footer>

<!-- Auth Modal -->
<div id="authModal" class="fixed inset-0 bg-black/50 z-50 hidden items-center justify-center">
    <div class="bg-white rounded-2xl w-full max-w-md p-8 shadow-2xl mx-4">
        <div class="flex justify-between items-center mb-6">
            <h2 id="authTitle" class="text-2xl font-bold text-gray-900">登录</h2>
            <button onclick="closeAuthModal()" class="text-gray-400 hover:text-gray-600">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
        </div>
        
        <form id="authForm" onsubmit="handleAuth(event)" class="space-y-4">
            <div id="nameField" class="hidden">
                <label class="block text-sm font-medium text-gray-700 mb-2">姓名</label>
                <input type="text" id="name" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent" placeholder="请输入姓名">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">邮箱</label>
                <input type="email" id="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent" placeholder="请输入邮箱">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">密码</label>
                <input type="password" id="password" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black focus:border-transparent" placeholder="请输入密码">
            </div>
            <button type="submit" class="w-full py-3 bg-black text-white font-medium rounded-lg hover:bg-gray-800 transition-colors">
                <span id="authBtnText">登录</span>
            </button>
        </form>
        
        <div class="mt-6 text-center text-sm text-gray-500">
            <span id="authSwitchText">还没有账号？</span>
            <button onclick="toggleAuthMode()" class="text-black font-medium hover:underline" id="authSwitchBtn">注册</button>
        </div>
    </div>
</div>

<script>
    let authMode = 'login';
    
    function openAuthModal(mode) {
        authMode = mode;
        updateAuthModal();
        document.getElementById('authModal').classList.remove('hidden');
        document.getElementById('authModal').classList.add('flex');
    }
    
    function closeAuthModal() {
        document.getElementById('authModal').classList.add('hidden');
        document.getElementById('authModal').classList.remove('flex');
    }
    
    function toggleAuthMode() {
        authMode = authMode === 'login' ? 'register' : 'login';
        updateAuthModal();
    }
    
    function updateAuthModal() {
        const isLogin = authMode === 'login';
        document.getElementById('authTitle').textContent = isLogin ? '登录' : '注册';
        document.getElementById('authBtnText').textContent = isLogin ? '登录' : '注册';
        document.getElementById('authSwitchText').textContent = isLogin ? '还没有账号？' : '已有账号？';
        document.getElementById('authSwitchBtn').textContent = isLogin ? '注册' : '登录';
        document.getElementById('nameField').classList.toggle('hidden', isLogin);
    }
    
    async function handleAuth(e) {
        e.preventDefault();
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        const name = document.getElementById('name').value;
        
        const endpoint = authMode === 'login' ? '/api/login' : '/api/register';
        const body = authMode === 'login' 
            ? { email, password }
            : { email, password, name };
        
        try {
            const response = await fetch(endpoint, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(body)
            });
            
            const data = await response.json();
            
            if (data.success) {
                localStorage.setItem('user', JSON.stringify(data.user));
                window.location.href = '/chat.html';
            } else {
                alert(data.message || '操作失败');
            }
        } catch (error) {
            alert('网络错误，请稍后重试');
        }
    }
    
    function startLearning() {
        const user = localStorage.getItem('user');
        if (user) {
            window.location.href = '/chat.html';
        } else {
            openAuthModal('register');
        }
    }
    
    // Check if already logged in
    document.addEventListener('DOMContentLoaded', function() {
        const user = localStorage.getItem('user');
        if (user) {
            // Update navbar for logged-in state
            const navRight = document.querySelector('nav .flex.items-center.gap-4');
            const userData = JSON.parse(user);
            navRight.innerHTML = `
                <span class="text-sm text-gray-600">欢迎, ${userData.name || userData.email}</span>
                <button onclick="logout()" class="text-sm font-medium text-gray-600 hover:text-gray-900 transition-colors">退出</button>
                <a href="/chat.html" class="px-4 py-2 text-sm font-medium text-white bg-black rounded-full hover:bg-gray-800 transition-colors">进入学习</a>
            `;
        }
    });
    
    function logout() {
        localStorage.removeItem('user');
        window.location.reload();
    }
</script>

</body>
</html>
